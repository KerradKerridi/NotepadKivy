<FirstWindow>:
    button: Butt
    Button:
        id: Butt
        text: "Старт"
        font_size: 20
        pos_hint: {'x': .25, 'y': .25}
        size_hint: .5, .5
        background_color: (0.4471, 0.0706, 0.651, 1)
        on_release:
            root.manager.current = 'main'
<MainWidget>:
    grid: grid
    button: Butt
    GridLayout:
        cols: 1
        rows: 3
        size_hint_y: 1
        FloatLayout:
            Image:
                source: 'src/logo.png'
                pos_hint: {'x': 0, 'y': 0}
                size_hint: .1, 1
            Button:
                id: Butt
                text: "Сортировка"
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                pos_hint: {'x': .1, 'y': 0}
                size_hint: .4, 1
                on_release:
                    root.manager.current = 'empty'
            Button:
                id: AllNotes
                text: "Записные книжки"
                font_size: 20
                pos_hint: {'x': .5, 'y': 0}
                size_hint: .3, 1
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.manager.current = 'empty'
            Button:
                id: Butt
                text: "Настройки"
                font_size: 20
                pos_hint: {'x': .8, 'y': 0}
                size_hint: .2, 1
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.manager.current = 'settings'
        ScrollView:#TODO: В какой-то момент сломал скролл, экран постоянно тянется к верху
            pos_hint: {'top': 1}
            size_hint_y: 10
            GridLayout:
                id: grid
                cols: 1
                size_hint_y: .2
                padding: 10
                spacing: 10

        AnchorLayout:
            Button:
                id: Butt
                text: "Создать запись"
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                anchor_x: 'center'
                anchor_y: 'bottom'
                size_hint: .5, 1
                on_release:
                    root.manager.current = 'new'
<EditTextWidget>:
    head: HeaderNote
    body: BodyNote
    save_button: SaveNote
    delete_button: DeleteNote
    back_button: Back
    on_pre_enter:
        root.open_files()
    padding: 5
    spacing: 5
    orientation: 'vertical'
    GridLayout:
        rows: 4
        BoxLayout:
            pos_hint: {'top': 0.92}
            size_hint: 1, 0.07
            size: root.width, root.height
            TextInput:
                id: HeaderNote
                multiline: False
                font_size: 20
                hint_text: 'Заголовок заметки'
                background_color: (0.9804, .9765, 0.9725)
        BoxLayout:
            pos_hint: {'top': 1}
            size_hint: 1, .1
            padding: 5
            spacing: 5
            orientation: 'horizontal'
            size: root.width, root.height
            Button:
                id: SaveNote
                size_hint: 1, 1
                text: 'Сохранить'
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.save_edit(HeaderNote, BodyNote)
                    root.manager.current = 'main'
            Button:
                id: DeleteNote
                size_hint: 1, 1
                text: 'Удалить'
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.delete_edit(HeaderNote)
                    root.manager.current = 'main'
                    #TODO: переписать все кнопки на один общий шаблон
            Button:
                id: Back
                size_hint: 1, 1
                text: 'Назад'
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.manager.current = 'main'
        BoxLayout:
            pos_hint: {'top': 0.92}
            size_hint: 1, 0.92
            size: root.width, root.height
            TextInput:
                id: BodyNote
                multiline: True
                font_size: 15
                hint_text: 'Текст заметки'
                background_color: (0.9804, .9765, 0.9725)
<EmptyPage>:
    button: Butt
    padding: 5
    spacing: 5
    orientation: 'vertical'
    Label:
        text: 'В разработке'
        size_hint: 1, .9
    Button:
        id: Butt
        size_hint: 1, .1
        text: 'Вернуться'
        on_release:
            root.manager.current = 'main'
<NewTextWidget>:
    button: Butt
    head: HeaderNote
    body: BodyNote
    padding: 5
    spacing: 5
    orientation: 'vertical'
    GridLayout:
        rows: 4
        BoxLayout:
            pos_hint: {'top': 0.92}
            size_hint: 1, 0.07
            size: root.width, root.height
            TextInput:
                id: HeaderNote
                multiline: False
                font_size: 20
                hint_text: 'Заголовок заметки'
                background_color: (0.9804, .9765, 0.9725)
        BoxLayout:
            pos_hint: {'top': 1}
            size_hint: 1, .1
            padding: 5
            spacing: 5
            orientation: 'horizontal'
            size: root.width, root.height
            Button:
                id: Butt
                size_hint: 1, 1
                text: 'Сохранить'
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.save_new(HeaderNote, BodyNote)
                    root.manager.current = 'main'
            Button:
                id: Butt
                size_hint: 1, 1
                text: 'Назад'
                font_size: 20
                background_color: (0.4471, 0.0706, 0.651, 1)
                on_release:
                    root.manager.current = 'main'
        BoxLayout:
            pos_hint: {'top': 0.92}
            size_hint: 1, 0.92
            size: root.width, root.height
            TextInput:
                id: BodyNote
                multiline: True
                font_size: 15
                hint_text: 'Текст заметки'
                background_color: (0.9804, .9765, 0.9725, 1)
<SettingsWidget>:
    switch: switchTheme
    back_button: Back
    FloatLayout:
        orientation: 'vertical'
        Label:
            text: 'Dark Theme'
            pos_hint: {'x': .1, 'y': .5}
            size_hint: .5, .1
        Switch:
            id: switchTheme
            pos_hint: {'x': .3, 'y': .5}
            size_hint: .5, .1
            on_touch_down:
                root.change_theme()
        Button:
            id: Back
            pos_hint: {'x': .2, 'y': 0}
            size_hint: .5, .1
            text: 'Назад'
            font_size: 20
            background_color: (0.4471, 0.0706, 0.651, 1)
            on_release:
                root.manager.current = 'main'